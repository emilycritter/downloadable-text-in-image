<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body style="text-align: center; font-family: sans-serif;">
    <div id="header" style="margin-bottom: 20px;">
      <h1 id="header">Text on Image</h1>
      <a id="link">Download</a>
    </div>
    <canvas id="canvas" width="500" height="500"></canvas>
  </body>
  <script type="text/javascript">
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const link = document.getElementById('link');

    const image = new Image();
    image.onload = drawImage;
    image.crossOrigin="anonymous";
    image.src = 'https://i.imgur.com/sKV54PO.jpg';

    function drawImage() {
      // canvas.width = this.naturalWidth;
      // canvas.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0, this.width, this.height);

      ctx.font = '48px sans-serif';
      ctx.fillStyle = '#ffffff';
      ctx.fillText('My custom text!!', 80, 250);
      link.download = "coupon.png"
      link.href = canvas.toDataURL("image/png");
    }
  </script>
</html>
